---
copyright:
  years: 1994, 2017, 2018
lastupdated: "2018-01-23"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# サービス・グループへのサービスの追加

サービス・グループを{{site.data.keyword.loadbalancer_short}}に追加したら、サービスを追加してバランシング・プロセスを開始できます。複数のサービスを 1 つのサービス・グループに追加し、各デバイスが常にワークロードをどのように受け取るべきかについての優先順位付けができるように、重みづけをすることができます。新しいサービスを{{site.data.keyword.loadbalancer_short}}のサービス・グループに追加するには、以下の手順を実行します。

1. [「ローカル・ロード・バランサーの詳細」](view-all-load-balancers.html)ページから、サービスを追加するサービス・グループに対応する行のドロップダウン・メニューで**「アクション」>「サービスの追加」**をクリックします。あるいは、行の左側にある展開アイコンをクリックしてグループの詳細を展開し、**「サービスの追加」**ボタンをクリックします。新しい「サービス」セクションが、「サービス・グループの詳細」セクションの下部に追加されます。
2. 以下のサービス・パラメーターを入力します。
  - **宛先 IP:** 宛先サーバーの IP アドレス。
  - **宛先ポート:** トラフィックを宛先サーバーに経路指定するために使用するポート番号。
  - **ヘルス・チェック:** これらのオプションからの優先ヘルス・チェック方法。

     - **デフォルト:** デフォルト構成は Ping です。
     - **HTTP:** ポート 80 から、リストされている IP アドレスへのトラフィックが、HTTP コード 200 (OK) で応答することを確認します。
     - **HTTP-CUSTOM:** 接続のタイプ、ヘルス・チェックのロケーション、および予想している応答を割り当てる点を除き、通常の HTTP とほぼ同様。これは拡張オプションです。
     - **Ping:** ICMP でのシンプルな ping テスト。
     - **TCP:** ping テストとほぼ同様ですが、明示的に TCP を使用します。このオプションは、ICMP 接続がブロックされたときに使用します。
  - **重み:** サービスの数値優先順位。重みづけとは、より多くのトラフィックを受信させたいサーバーに数値を割り当てるシステムです。サーバーがヘルス・チェックに従ってオンライン接続されている限り、数値が大きいほど優先順位が高いことを示しています。例えば、_server1_ の重みが 80 で、_server2_ の重みが 20 の場合、着信するそれぞれ 10 個の接続のうち、_server1_ には 8 個が割り振られ、_server2_ には 2 個が割り振られます。_server1_ がオフラインになったり、プールから削除されたりすると、すべての接続が _server2_ に割り振られます。
  - **メモ:** メモ用のフィールド。
3. **「有効」**チェック・ボックスを選択してサービスを有効にします。
4. **「構成の保存」**ボタンをクリックしてサービスを追加します。アクションをキャンセルするには、**「キャンセル」**をクリックします。

サービスをサービス・グループに追加すると、サービスはそのグループのサービス・グリッドに表示されます。サービスが有効になっている場合は、サービスが追加されたときに指定された重みに基づいてロード・バランシング操作の支援を開始します。無効になっていてもサービス・グループ内に表示されますが、アクティブ化されるまではバランシングの支援を行いません。インターバルに、サービスに対してヘルス・チェックが実行され、その状況は、ヘルス・チェックの結果に基づいて、UP または DOWN として反映されます。サービスはいつでも編集または削除でき、「アクション」ドロップダウン・メニューを使用して、既存のどのサービスにも HTTP カスタム・ヘルス・チェックを追加できます。
