---
copyright:
  years: 1994, 2017, 2018
lastupdated: "2018-01-23"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 向服务组添加服务

向{{site.data.keyword.loadbalancer_short}}添加了服务组后，可添加服务以开始均衡过程。可以向一个服务组添加多个服务，并且可以对服务加权，以允许对每个设备在任意给定时间应该如何接收工作负载划分优先级。执行以下步骤来向{{site.data.keyword.loadbalancer_short}}的服务组添加新服务。

1. 从[本地负载均衡器详细信息](view-all-load-balancers.html)页面，在要添加服务的服务组所对应行上的下拉菜单中，单击**操作 > 添加服务**。或者，通过单击该行左侧的“展开”图标来展开组详细信息，然后单击**添加服务**按钮。将在“服务组详细信息”部分的底部添加新的“服务”部分。
2. 输入服务参数：
  - **目标 IP：**目标服务器的 IP 地址。
  - **目标端口：**用于将流量路由到目标服务器的端口号。
  - **运行状况检查：**以下选项中的首选运行状况检查方法。

     - **缺省值：**缺省配置为 Ping。
     - **HTTP：**检查所列 IP 地址的端口 80 是否使用 HTTP 代码 200（正常）进行响应。
     - **HTTP 定制：**与常规 HTTP 非常类似，但您要指定连接类型、运行状况检查的位置以及所期望的响应。这是高级选项。
     - **Ping：**通过 ICMP 执行的简单 ping 测试。
     - **TCP：**与 ping 测试非常类似，但要通过 TCP 显式执行。如果阻塞了 ICMP 连接，那么应该使用此选项。
  - **权重：**以数字表示的服务优先级。权重是为期望接收更多流量的服务器分配数字值的一种机制。只要运行状况检查的结果是服务器处于联机状态，那么数字越大，表示优先级越高。例如，如果 _server1_ 的权重为 80，_server2_ 的权重为 20，那么每传递 10 个连接，将为 _server1_ 分配 8 个连接，_server2_ 将获得 2 个连接。如果 _server1_ 脱机或从池中将其除去，那么所有连接都将转至 _server2_。
  - **注释：**用于注释的字段。
3. 选中**已启用**复选框以启用服务。
4. 单击**保存配置**按钮以添加服务。单击**取消**以取消该操作。

向服务组添加服务后，该服务会显示在该组的“服务”网格中。如果该服务已启用，那么会开始根据添加服务时提供的权重来协助负载均衡工作。如果该服务处于禁用状态，那么仍会显示在服务组中，但它只有在激活后才会协助进行均衡。将定期对服务执行运行状况检查，根据运行状况检查的结果，服务的状态将反映为已启动或已关闭。可以随时编辑或删除服务，并且可以通过“操作”下拉菜单，向任何现有服务添加 HTTP 定制运行状况检查。
