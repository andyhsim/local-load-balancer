---
copyright:
  years: 1994, 2017, 2018
lastupdated: "2018-11-12"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 负载均衡方法
{: #load-balancing-methods}

|方法|描述|
|:---|:---|
|一致散列 IP|<ul><li>通过对请求的源 IP 进行散列处理，将客户机请求映射到真实服务器。</li><li>在各个端口上会保持客户机/服务器关系。</li></ul>|
|插入 Cookie|<ul><li>在请求中插入跟踪 cookie。<span style="mso-spacerun:yes"> </span>该 cookie 中包含的会话数据会用于后续请求，以将流量发回同一台真实服务器。</li><li>持久性逐个会话进行硬编码。</li><li>cookie 在客户机的浏览器关闭后到期。</li><li>需要客户机接受 cookie 才能生效。</li></ul>|
|最少连接数|<ul><li>具有最少活动连接数的真实服务器获得第一优先级。</li><li>算法要求差异为 10 个连接，这可能会使客户的结果发生偏差。</li></ul>|
|持久性 IP|<ul><li>通过对请求 IP 地址的所有 4 个八位元进行散列处理，将请求者的源 IP 绑定到处理请求的真实服务器。</li><li>持久存储 60 分钟</li></ul>|
|循环法|<ul><li>每个新请求都会分配给循环中的下一个真实服务器。</li><li>将对大型样本执行均衡的分布，但小型样本可能会呈现不成比例的均衡。</li></ul>|
|最短响应时间|<ul><li>响应时间最短的服务器接收请求。</li><li>随着负载和响应时间的增加，服务器开始变慢，因而处理的请求减少。</li></ul>|
|使用持久性 IP 的循环法|<ul><li>每个新请求都会分配给循环中的下一个真实服务器。</li><li>请求者的 IP 地址绑定到真实服务器，因此后续来自该 IP 的请求均分配给同一台真实服务器。</li></ul>|
|使用插入 Cookie 的循环法|<ul><li>每个新请求都会分配给循环中的下一个真实服务器。</li><li>负载均衡器在请求中插入 cookie，然后将该 cookie 中的会话信息用于后续请求，以将流量定向到同一台真实服务器。</li></ul>|
|使用持久性 IP 的最少连接数|<ul><li>每个新请求都会分配给此刻活动连接数最少的真实服务器。</li><li>请求者的 IP 地址绑定到真实服务器，因此后续来自该 IP 的请求均分配给同一台真实服务器。</li></ul>|
|使用插入 Cookie 的最少连接数|<ul><li>每个新请求都会分配给此刻活动连接数最少的真实服务器。</li><li>负载均衡器在请求中插入 cookie，然后将该 cookie 中的会话信息用于后续请求，以将流量定向到同一台真实服务器。</li></ul>|
|使用持久性 IP 的最短响应时间|<ul><li>每个新请求都会分配给响应时间最短的真实服务器。</li><li>请求者的 IP 地址绑定到真实服务器，因此后续来自该 IP 的请求均分配给同一台真实服务器。</li></ul>|
|使用插入 Cookie 的最短响应时间|<ul><li>每个新请求都会分配给响应时间最短的真实服务器。</li><li>负载均衡器在请求中插入 cookie，然后将该 cookie 中的会话信息用于后续请求，以将流量定向到同一台真实服务器。</li></ul>|
